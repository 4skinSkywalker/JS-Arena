<p>
  You recently started working at a promising new startup. Now that you're at
  the end of the first week, you're surprised the product is still working at
  all: there are bugs in almost every one of its components!
</p>

<p>
  Information about all bugs is stored in a table <strong>Bug</strong>, and
  information about components is stored in a <strong>Component</strong> table.
  Since some bugs may be present in several components and vice versa, the
  additional <strong>BugComponent</strong> table contains rows representing
  connections between bugs and components. In the database the tables are stored
  as follows:
</p>

<ul class="list-group list-group-flush my-3">
  <li class="list-group-item">
    <strong>Bug</strong>:
    <ul class="list-group list-group-flush my-3">
      <li class="list-group-item">num: unique bug number</li>
      <li class="list-group-item">title: bug title</li>
    </ul>
  </li>
  <li class="list-group-item">
    <strong>Component</strong>:
    <ul class="list-group list-group-flush my-3">
      <li class="list-group-item">id: unique component id</li>
      <li class="list-group-item">title: component title</li>
    </ul>
  </li>
  <li class="list-group-item">
    <strong>BugComponent</strong>:
    <ul class="list-group list-group-flush my-3">
      <li class="list-group-item">
        bug_num: foreign key referencing <code>Bug.num</code>
      </li>
      <li class="list-group-item">
        component_id: foreign key referencing <code>Component.id</code>
      </li>
    </ul>
  </li>
</ul>

<p>
  There are so many bugs that you don't know what to begin with. To help
  yourself decide, you want to find all bugs that affect more than one
  component, and find these components' names. Since it's difficult to test too
  buggy components, you also want to know how many bugs each such component has.
  The resulting table should thus contain the following columns:
</p>

<ul class="list-group list-group-flush my-3">
  <li class="list-group-item"><strong>bug_title</strong>: bug title</li>
  <li class="list-group-item">
    <strong>component_title</strong>: title of the component to which this bug
    belongs
  </li>
  <li class="list-group-item">
    <strong>bugs_in_component</strong>: total number of bugs in this component
  </li>
</ul>

<p>
  The results should be sorted by the number of bugs in the component in
  descending order. In case of a tie, the component with the smallest
  <code>id</code> should go first. In case it's not enough to break a tie,
  <code>bug_num</code> should be a tie-breaker: the <code>bug</code> with the
  smallest <code>num</code> should go first.
</p>

<h3>Example</h3>

<p>For the following table <strong>Bug</strong>:</p>
<table class="table table-striped my-3">
  <thead>
    <tr>
      <th>num</th>
      <th>title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Quotes don't work</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Highlighting looks weird</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Posts are not automatically updated</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Author link doesn't work</td>
    </tr>
  </tbody>
</table>

<p><strong>Component</strong>:</p>
<table class="table table-striped my-3">
  <thead>
    <tr>
      <th>id</th>
      <th>title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Forum</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Code editor</td>
    </tr>
  </tbody>
</table>

<p><strong>BugComponent</strong>:</p>
<table class="table table-striped my-3">
  <thead>
    <tr>
      <th>bug_num</th>
      <th>component_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2</td>
    </tr>
    <tr>
      <td>4</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<p>The resulting table should be:</p>
<table class="table table-striped my-3">
  <thead>
    <tr>
      <th>bug_title</th>
      <th>component_title</th>
      <th>bugs_in_component</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Highlighting looks weird</td>
      <td>Forum</td>
      <td>4</td>
    </tr>
    <tr>
      <td>Author link doesn't work</td>
      <td>Forum</td>
      <td>4</td>
    </tr>
    <tr>
      <td>Highlighting looks weird</td>
      <td>Code editor</td>
      <td>2</td>
    </tr>
    <tr>
      <td>Author link doesn't work</td>
      <td>Code editor</td>
      <td>2</td>
    </tr>
  </tbody>
</table>

<p>
  Bugs <code>2</code> (<code>Highlighting looks weird</code>) and
  <code>4</code> (<code>Author link doesn't work</code>) affect both components,
  so they should be included in the resulting table. The number of bugs in
  <code>Forum</code> is <code>4</code>, and in <code>Code editor</code> is
  <code>2</code>.
</p>
